<!doctype html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ƒ∞lk Yardƒ±m Testi</title>

    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap"
      rel="stylesheet"
    />

    <style>
      :root {
        --primary: #2563eb;
        --secondary: #1e3a8a;
        --bg1: #020617;
        --bg2: #0f172a;
        --card: #ffffff;
        --text: #0f172a;
        --success: #22c55e;
        --danger: #ef4444;
        --warning: #facc15;
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        font-family: "Poppins", sans-serif;
        min-height: 100vh;
        background: linear-gradient(135deg, var(--secondary), var(--primary));
        animation: bgMove 12s infinite alternate;
      }

      @keyframes bgMove {
        0% {
          background-position: 0% 50%;
        }
        100% {
          background-position: 100% 50%;
        }
      }

      /* HEADER */

      .top-bar {
        background: rgba(2, 6, 23, 0.9);
        backdrop-filter: blur(10px);
        padding: 15px;
        text-align: center;
        color: white;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
      }

      .top-bar h2 {
        font-size: 22px;
        margin-bottom: 6px;
      }

      .top-bar a {
        display: inline-block;
        margin-top: 6px;
        padding: 6px 12px;
        background: var(--primary);
        color: white;
        text-decoration: none;
        border-radius: 8px;
        font-size: 14px;
        transition: 0.3s;
      }

      .top-bar a:hover {
        transform: scale(1.05);
        opacity: 0.9;
      }

      /* CONTAINER */

      .quiz-container {
        max-width: 540px;
        margin: auto;
        padding: 18px;
        animation: fadeUp 0.6s ease;
      }

      @keyframes fadeUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* AD */

      .ad-area {
        background: white;
        border-radius: 14px;
        padding: 16px;
        text-align: center;
        font-weight: 600;
        margin-bottom: 15px;
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
      }

      /* CARD */

      .card {
        background: white;
        border-radius: 22px;
        padding: 22px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        animation: cardPop 0.4s ease;
      }

      @keyframes cardPop {
        from {
          transform: scale(0.9);
          opacity: 0;
        }
        to {
          transform: scale(1);
          opacity: 1;
        }
      }

      .card h2 {
        font-size: 17px;
        margin-bottom: 12px;
        text-align: center;
      }

      /* IMAGE */

      .question-img {
        width: 100%;
        border-radius: 14px;
        margin: 12px 0;
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
      }

      /* OPTIONS */

      #options button {
        width: 100%;
        padding: 14px;
        margin: 8px 0;
        border: none;
        border-radius: 14px;
        font-size: 15px;
        font-weight: 500;
        background: #f1f5f9;
        cursor: pointer;
        transition: 0.25s;
      }

      #options button:hover {
        transform: translateY(-2px) scale(1.01);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
      }

      .correct {
        background: linear-gradient(135deg, #22c55e, #16a34a) !important;
        color: white;
      }

      .wrong {
        background: linear-gradient(135deg, #ef4444, #dc2626) !important;
        color: white;
      }

      /* INFO */

      #infoBox {
        display: none;
        background: #fffbeb;
        border-left: 5px solid var(--warning);
        padding: 12px;
        border-radius: 12px;
        margin-top: 10px;
        font-size: 14px;
        animation: fadeUp 0.4s;
      }

      /* NAV */

      .nav-buttons {
        display: flex;
        gap: 10px;
        margin-top: 18px;
      }

      .nav-buttons button {
        flex: 1;
        padding: 12px;
        border: none;
        border-radius: 12px;
        background: linear-gradient(135deg, var(--secondary), var(--primary));
        color: white;
        font-weight: 600;
        cursor: pointer;
        transition: 0.3s;
      }

      .nav-buttons button:hover {
        transform: scale(1.05);
        opacity: 0.9;
      }
    </style>
  </head>

  <body>
    <header class="top-bar">
      <h2>≈ûahin Ehliyet</h2>
      <a href="katagoriler.html">‚¨Ö Kategorilere D√∂n</a>
    </header>

    <div class="quiz-container">
      <div class="ad-area">üì¢ REKLAM ALANI</div>

      <div class="card">
        <h2 id="questionText"></h2>

        <img id="questionImg" class="question-img" style="display: none" />

        <div id="options"></div>

        <div id="infoBox"></div>

        <div class="nav-buttons">
          <button id="prevBtn">‚¨Ö Geri</button>
          <button id="nextBtn">ƒ∞leri ‚û°</button>
        </div>
      </div>
    </div>

    <script>
      let currentQuestion = 0;
      let userAnswers = Array(10).fill(null);

      const questions = [
        {
          text: "Omuz ve koldaki kanamalarda, ≈üekilde g√∂sterilen hangi b√∂lgeye basƒ±n√ß uygulanmalƒ±dƒ±r?",
          image: "soru7.jpg",
          options: [
            "Kasƒ±k b√∂lgesine",
            "≈ûakak b√∂lgesine",
            "√áene altƒ± b√∂lgesine",
            "K√∂pr√ºc√ºk kemiƒüinin i√ß kƒ±smƒ±na",
          ],
          correct: 3,
          explanation:
            "Omuz ve kol b√∂lgesindeki kanamalarda, k√∂pr√ºc√ºk kemiƒüinin i√ß kƒ±smƒ±na basƒ±n√ß uygulanarak kan akƒ±≈üƒ± azaltƒ±lƒ±r.",
        },

        {
          text: "Aƒüƒ±zdan aƒüƒ±za suni solunum yapƒ±lacak olan hastaya verilecek pozisyon a≈üaƒüƒ±dakilerden hangisidir?",
          options: [
            "Yan yatƒ±≈ü",
            "Yarƒ± oturu≈ü",
            "Sƒ±rt√ºst√º yatƒ±≈ü",
            "Y√ºz√ºst√º yatƒ±≈ü",
          ],
          correct: 2,
          explanation:
            "Aƒüƒ±zdan aƒüƒ±za suni solunum yapƒ±lƒ±rken hasta sƒ±rt√ºst√º yatƒ±rƒ±lƒ±r ve ba≈ü geriye doƒüru yatƒ±rƒ±lƒ±r.",
        },

        {
          text: "A≈üaƒüƒ±dakilerden hangisi ilk yardƒ±mƒ±n ama√ßlarƒ±ndan biri deƒüildir?",
          options: [
            "ƒ∞la√ßla tedavi etmek",
            "Durumun k√∂t√ºle≈ümesini √∂nlemek",
            "Hayati tehlikeyi ortadan kaldƒ±rmak",
            "Ya≈üamsal fonksiyonlarƒ±n s√ºrd√ºr√ºlmesini saƒülamak",
          ],
          correct: 0,
          explanation:
            "ƒ∞lk yardƒ±mda ila√ß kullanƒ±lmaz. Ama√ß, saƒülƒ±k ekipleri gelene kadar hayati fonksiyonlarƒ± korumaktƒ±r.",
        },

        {
          text: "G√∂rseldeki yaralƒ±ya ilk yardƒ±mcƒ±nƒ±n, hangi uygulamayƒ± yapmasƒ± uygun deƒüildir?",
          image: "6.jpg",
          options: [
            "Boyun tespiti yapmasƒ±",
            "Yarƒ± oturur pozisyona almasƒ±",
            "Bilin√ß durumunu kontrol etmesi",
            "Ya≈üam bulgularƒ±nƒ± (ABC) deƒüerlendirmesi",
          ],
          correct: 1,
          explanation:
            "Omurga yaralanmasƒ± ≈ü√ºphesinde yaralƒ± yarƒ± oturur pozisyona getirilmemelidir.",
        },

        {
          text: "Resimde g√∂r√ºlen pozisyon, a≈üaƒüƒ±daki durumlarƒ±n hangisinde uygulanƒ±r?",
          image: "1.png",
          options: [
            "Kalp durmasƒ±",
            "Bacak kemiƒüi kƒ±rƒ±lmasƒ±",
            "Solunum yolu tƒ±kanmasƒ±",
            "Delici g√∂ƒü√ºs yaralanmasƒ±",
          ],
          correct: 3,
          explanation:
            "Delici g√∂ƒü√ºs yaralanmalarƒ±nda yaralƒ± yarƒ± oturur pozisyona getirilerek solunumu rahatlatƒ±lƒ±r.",
        },

        {
          text: "Yaralƒ±nƒ±n ara√ßtan √ßƒ±karƒ±lmasƒ± esnasƒ±nda en √ßok hangisine dikkat edilmelidir?",
          options: [
            "Hƒ±zlƒ± ve aceleci davranmaya",
            "Kaza yapan araca hasar verilmemesine",
            "Kazayƒ± seyredenlerin uzakla≈ütƒ±rƒ±lmasƒ±na",
            "Yaralƒ±da yeni bir yaralanma meydana gelmemesine",
          ],
          correct: 3,
          explanation:
            "Yaralƒ± √ßƒ±karƒ±lƒ±rken mevcut yaralanmalarƒ±n artmamasƒ±na ve yeni yaralanmalar olu≈ümamasƒ±na dikkat edilmelidir.",
        },

        {
          text: "A≈üaƒüƒ±dakilerden hangisi kanamayƒ± azaltmak i√ßin uygulanan bir y√∂ntemdir?",
          options: [
            "Kanama b√∂lgesinde bulunan pƒ±htƒ±larƒ±n yƒ±kanarak temizlenmesi",
            "Kanayan yere en yakƒ±n basƒ±n√ß noktasƒ±na baskƒ± uygulanmasƒ±",
            "Kanayan yere sƒ±cak uygulama yapƒ±lmasƒ±",
            "Kanayan yerin oksijenli su ile yƒ±kanmasƒ±",
          ],
          correct: 1,
          explanation:
            "Basƒ±n√ß noktalarƒ±na baskƒ± uygulanarak damarlardaki kan akƒ±≈üƒ± azaltƒ±lƒ±r ve kanama kontrol altƒ±na alƒ±nƒ±r.",
        },

        {
          text: "Resimde g√∂r√ºlen uygulama hangi kƒ±rƒ±klarƒ±n tespiti i√ßin yapƒ±lƒ±r?",
          image: "9.gif",
          options: [
            "Omurga kƒ±rƒ±ƒüƒ±",
            "√úst kol kemiƒüi kƒ±rƒ±ƒüƒ±",
            "√ñn kol kemiƒüi kƒ±rƒ±ƒüƒ±",
            "K√∂pr√ºc√ºk kemiƒüi kƒ±rƒ±ƒüƒ±",
          ],
          correct: 2,
          explanation:
            "Bu uygulama √∂n kol kemiƒüi kƒ±rƒ±klarƒ±nda kolun sabitlenmesi i√ßin yapƒ±lƒ±r.",
        },

        {
          text: "A≈üaƒüƒ±dakilerden hangisi ≈üok belirtilerindendir?",
          options: [
            "Cildin soƒüuk ve nemli olmasƒ±",
            "Zihinsel aktivitenin artmasƒ±",
            "Dilin gev≈üeyerek geriye doƒüru toplanmasƒ±",
            "V√ºcut sƒ±caklƒ±ƒüƒ±nƒ±n hƒ±zla y√ºkselmesi",
          ],
          correct: 0,
          explanation:
            "≈ûok durumunda cilt soƒüuk, soluk ve nemli olur. Nabƒ±z hƒ±zlanƒ±r ve ki≈üi halsizle≈üir.",
        },

        {
          text: "A≈üaƒüƒ±dakilerden hangisi ayak bileklerinden s√ºr√ºkleme y√∂nteminde yapƒ±lmamasƒ± gereken uygulamalardandƒ±r?",
          options: [
            "Kazazedenin ba≈ü, boyun ve g√∂vde ekseni bozulmadan s√ºr√ºklenmesi",
            "ƒ∞lk yardƒ±mcƒ±nƒ±n, kazazedenin ayak kƒ±smƒ±na √ß√∂melmesi",
            "Kazazedenin ellerinin yanda serbest bƒ±rakƒ±lmasƒ±",
            "Kazazedeye yakƒ±n mesafede durulmasƒ±.",
          ],
          correct: 2,
          explanation:
            "S√ºr√ºkleme sƒ±rasƒ±nda kazazedenin elleri g√∂vdesi √ºzerinde sabitlenmelidir. Serbest bƒ±rakƒ±lmamalƒ±dƒ±r.",
        },
      ];

      const questionText = document.getElementById("questionText");
      const optionsDiv = document.getElementById("options");
      const infoBox = document.getElementById("infoBox");
      const questionImg = document.getElementById("questionImg");

      function loadQuestion() {
        const q = questions[currentQuestion];
        questionText.textContent = `${currentQuestion + 1}. ${q.text}`;
        optionsDiv.innerHTML = "";
        infoBox.style.display = "none";

        if (q.image) {
          questionImg.src = q.image;
          questionImg.style.display = "block";
        } else {
          questionImg.style.display = "none";
        }

        q.options.forEach((opt, i) => {
          const btn = document.createElement("button");
          btn.textContent = opt;

          if (userAnswers[currentQuestion] !== null) {
            btn.disabled = true;
            if (i === q.correct) btn.classList.add("correct");
            if (i === userAnswers[currentQuestion] && i !== q.correct)
              btn.classList.add("wrong");
          }

          btn.onclick = () => selectAnswer(i, btn);
          optionsDiv.appendChild(btn);
        });
      }

      function selectAnswer(i, btn) {
        if (userAnswers[currentQuestion] !== null) return;
        userAnswers[currentQuestion] = i;
        const q = questions[currentQuestion];

        document
          .querySelectorAll("#options button")
          .forEach((b) => (b.disabled = true));

        if (i === q.correct) {
          btn.classList.add("correct");
          setTimeout(nextQuestion, 700);
        } else {
          btn.classList.add("wrong");
          document
            .querySelectorAll("#options button")
            [q.correct].classList.add("correct");
          infoBox.textContent = q.explanation;
          infoBox.style.display = "block";
        }
      }

      function nextQuestion() {
        if (currentQuestion < questions.length - 1) {
          currentQuestion++;
          loadQuestion();
        } else {
          showResult();
        }
      }
      function prevQuestion() {
        if (currentQuestion > 0) {
          currentQuestion--;
          loadQuestion();
        }
      }
      function showResult() {
        let correct = 0;
        let wrong = 0;
        let empty = 0;

        userAnswers.forEach((answer, i) => {
          if (answer === null) {
            empty++;
          } else if (answer === questions[i].correct) {
            correct++;
          } else {
            wrong++;
          }
        });

        const total = questions.length;
        const successRate = Math.round((correct / total) * 100);

        document.querySelector(".quiz-container").innerHTML = `
    <div class="card" style="text-align:center">
      <h2>Test Sonucu</h2>

      <p>‚úÖ Doƒüru: <strong>${correct}</strong></p>
      <p>‚ùå Yanlƒ±≈ü: <strong>${wrong}</strong></p>
      <p>‚ö™ Bo≈ü: <strong>${empty}</strong></p>

      <hr>

      <p>Ba≈üarƒ± Oranƒ±: <strong>%${successRate}</strong></p>
<p>Tebrikler bu testi √ß√∂zerek XP kazandƒ±nƒ±z! Seviyenizi hesabƒ±nƒ±zda g√∂rebilirsiniz.</p>
      <button 
        onclick="window.location.href='katagoriler.html'"
        style="
          margin-top:15px;
          padding:12px 25px;
          border:none;
          border-radius:12px;
          background:#2a5298;
          color:white;
          font-size:16px;
          cursor:pointer;
        ">
        Bitir
      </button>
    </div>
  `;
        function saveTestResult(testKey, correct, wrong, empty, success) {
          let user = JSON.parse(localStorage.getItem("user"));

          if (!user) {
            user = {
              nickname: "Misafir",
              tests: {},
            };
          }

          const percent = Math.round((correct / 10) * 100);
          let scorePercent = Math.round((correct / total) * 100);
          user.xp += scorePercent;

          localStorage.setItem("user", JSON.stringify(user));

          user.tests[testKey] = {
            correct,
            wrong,
            empty,
            percent,
          };

          localStorage.setItem("user", JSON.stringify(user));
        }
        saveTestResult("ilkyardim-test-1", correct, wrong, empty, successRate);
      }

      function finishTest(result) {
        const user = JSON.parse(localStorage.getItem("user")) || {};
        user.tests = user.tests || {};
        user.inProgress = user.inProgress || {};

        user.tests["ilkyardim-test-1"] = result; // yeni sonu√ß
        delete user.inProgress["ilkyardim-test-1"]; // yarƒ±m kalma durumu silinir

        localStorage.setItem("user", JSON.stringify(user));
      }

      document.getElementById("nextBtn").onclick = nextQuestion;
      document.getElementById("prevBtn").onclick = prevQuestion;

      loadQuestion();
    </script>
  </body>
</html>
